<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:jsf="http://xmlns.jcp.org/jsf">
    
    <ui:composition template="./templatelogin.xhtml">

        <ui:define name="title">
            <h:outputText value="Authentification"></h:outputText>
        </ui:define>
        
        <ui:define name="body">
            <center> 
                
                    <h:form>    <p:fieldset>    
                            <table width="100%">
                                <tr>
                                    <td width="20%" rowspan="4"><h:graphicImage library="images" name="connexion.jpg" alt="connexion"/></td>
                                    <td colspan="2" align="center"> <h4>Veuillez saisir votre login et mot de passe</h4>
                                       
                                            <f:event listener="#{loginMBean.checkErrors}" type="preRenderView" id="error"/>
                                            <h:messages errorStyle="color: red; font-weight: bold !important"/>
                                    </td>                                        
                                </tr>
                                <tr>                                    
                                    <td colspan="2" align="center">                                    
                                    <div class="input-group">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                                    <input jsf:id="j_username" type="text" class="form-control" jsf:value="#{loginMBean.uname}" placeholder="Login" />
                                    </div>
                                    </td>                                    
                                </tr>
                                <tr style="height: 6px"><td></td></tr>
                                <tr>                                   
                                   <td colspan="2" align="center"><!-- h:inputSecret class="form-control" id="j_password" value="#{loginMBean.password}" alt="test" /-->
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                                        <input jsf:id="j_password" type="password" class="form-control" jsf:value="#{loginMBean.password}" placeholder="Password" />
                                    </div>
                                    </td>
                                </tr>
                                <tr><td></td></tr>
                                <tr>
                                    <td></td>

                                    <td colspan="2" align="center">&nbsp;<h:commandButton class="btn-primary"  value="   Se connecter   " action="#{loginMBean.login}" />&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                </tr>
                            </table>
                            Nouveau venu ? <a href="/CFisc/vues/tUtilisateur/CreateContrib.xhtml" target="_blank">Cr√©er un compte!!! </a>

                        </p:fieldset>   
                    </h:form>
                
            </center>
            
        </ui:define></ui:composition>
</html>
