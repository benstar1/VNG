<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="./../../WEB-INF/template.xhtml">

    <ui:define name="title">Générer numéro parcelle</ui:define>
    <ui:define name="viewname">

        <li>Configuration</li>
        <li>/</li>
        <li>Données topo</li>
        <li>/</li>
        <li><p:link outcome="visionparcelle.xhtml">Cartographie des parcelles</p:link></li>
    </ui:define>

    <ui:define name="content">
        <style>
            .arborescence{
                overflow:scroll;
            }
            .carte{
                overflow:scroll;
            }

        </style>
        
        <script>

        </script>

        
         <div class="container">
            <div class="ui-g">
                <div class="ui-g-12">
                    <div class="card" >
                        <h3>Cartographie des parcelles</h3>
                        <h:form id="formCarte">
                            <p:messages id="msg" showIcon="true" showDetail="true" closable="true"/>
                            <div  style="background-color: #3f7382; height: 70px;width: 100%"   id="element_affiches"> 
                                <table style="  border: 0px; width: 100% "  >
                                    <tr ><td>
                                            <p:selectManyCheckbox id="listeobjet" value="#{parcelleController.listTypeAffichage}" style="color:  #ffffff"   columns="3">
                                                <f:selectItem   itemLabel="Parcelle" itemValue="parcelle" />
                                                <!--f:selectItem itemLabel="Corridor" itemValue="corridor" /-->
                                                <f:selectItem itemLabel="Objets Points" itemValue="point" />
                                            </p:selectManyCheckbox>
                                        </td>
                                        <td>
                                            <p:commandButton update="msg" ajax="false" action="#{parcelleController.affiche()}" style=" margin-right: 20px" value="Afficher" icon="fa fa-map-marker" />
                                        </td>
                                        <td><p:outputLabel style="color:  #ffffff" value="Departement"  /></td>
                                        <td><p:inputText style="width: 130px; height: 25px" value="#{parcelleController.libDepart}"  /></td>
                                        <td><p:outputLabel style="color:  #ffffff" value="Commune"  /></td>
                                        <td><p:inputText style="width: 130px; height: 25px" value="#{parcelleController.libCommune}"  /></td>
                                        <td><p:outputLabel style="color:  #ffffff" value="Arrondissement"  /></td>
                                        <td><p:inputText style="width: 130px; height: 25px" value="#{parcelleController.libArr}"  /></td>
                                         
                                    </tr>
                                    <tr style="padding-bottom: 5px" > 
                                        <td colspan="4"> 
                                            
                                            <p:commandButton value="Plus de recherche" update="listeobjet" actionListener="#{parcelleController.setNullObjetAffichage}" style=" height:25px;" styleClass="green-btn" oncomplete="PF('AvanceDlg').show();"  icon="fa fa-ellipsis-h" />
                                      
                                         </td>
                                                <td><p:outputLabel style="color:  #ffffff" value="Village"  /></td>
                                                <td><p:inputText style="width: 130px; height: 25px" value="#{parcelleController.libVillage}"  /></td>
                                           
                                            
                                                <td><p:outputLabel style="color:  #ffffff" value="Nombre Parcelles"  /></td>
                                                <td><p:inputText style="width: 130px; height: 25px" value="#{parcelleController.nombreParcelle}"  /></td>
                                            </tr>
                                </table>
                            </div>
                            <div style="width: 100%;height: 580px" id="conteneur_centre" > 
                                <div class="arborescence" style="width: 25%;height: 100%; float: left; border-color:#dd8400; border-width: 1px; "  id="arborescence"> 
                                    <p:panel id="arbre" header="Découpage Territorial" styleClass="global-sales">

                                        <p:tree     style="width: 270px" id="tree1" value="#{parcelleController.root}" var="node" selectionMode="single" selection="#{parcelleController.noeudSelectionner}"
                                                    draggable="true" droppable="true" dragdropScope="demo">
                                            <p:treeNode   expandedIcon="fa fa-folder-open" collapsedIcon="fa fa-folder" >
                                                <h:outputText value="#{node}"  />
                                            </p:treeNode>
                                        </p:tree>
                                    </p:panel>
                                                <p:commandButton update="arbre"  ajax="true" action="#{parcelleController.genererArbre()}"  icon="fa fa-refresh" />
                               
                                </div>

                                <div  style="width: 75%;float: right;height: 100% ">

                                    <div  style="width: 100%; height: 100%; background-color: cornsilk;float: left; align-content: center" id="carte">  
                                        
                                        <iframe id="frameCarte" width="100%" height="100%" src="#{parcelleController.urlcarte}" >

                                        </iframe>
                                        
                                       

                                    </div>
                                    
                                </div>
                            </div>

                        </h:form>
                    </div>
                </div>
            </div>
        </div>
        <ui:include src="paramavance.xhtml"/>
    </ui:define>

</ui:composition>
